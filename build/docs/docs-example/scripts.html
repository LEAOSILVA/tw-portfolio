<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs-example/scripts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Script | Natalia Leão</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://LEAOSILVA.github.io/tw-portfolio/docs/docs-example/scripts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Script | Natalia Leão"><meta data-rh="true" name="description" content="Context"><meta data-rh="true" property="og:description" content="Context"><link data-rh="true" rel="canonical" href="https://LEAOSILVA.github.io/tw-portfolio/docs/docs-example/scripts"><link data-rh="true" rel="alternate" href="https://LEAOSILVA.github.io/tw-portfolio/docs/docs-example/scripts" hreflang="en"><link data-rh="true" rel="alternate" href="https://LEAOSILVA.github.io/tw-portfolio/docs/docs-example/scripts" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Script","item":"https://LEAOSILVA.github.io/tw-portfolio/docs/docs-example/scripts"}]}</script><link rel="alternate" type="application/rss+xml" href="/tw-portfolio/blog/rss.xml" title="Natalia Leão RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tw-portfolio/blog/atom.xml" title="Natalia Leão Atom Feed"><link rel="stylesheet" href="/tw-portfolio/assets/css/styles.6ca117f0.css">
<script src="/tw-portfolio/assets/js/runtime~main.148552f0.js" defer="defer"></script>
<script src="/tw-portfolio/assets/js/main.2b0b3124.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/tw-portfolio/img/logo-tw.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tw-portfolio/"><div class="navbar__logo"><img src="/tw-portfolio/img/logo-tw.png" alt="My portfolio logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tw-portfolio/img/logo-tw.png" alt="My portfolio logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My portfolio</b></a><a class="navbar__item navbar__link" href="/tw-portfolio/docs/about-me/who-am-i">About Me</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tw-portfolio/docs/docs-example/api">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/api">API documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/faqs">FAQs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tw-portfolio/docs/docs-example/feature-spec">Feature specifications</a><button aria-label="Expand sidebar category &#x27;Feature specifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/release-notes">Release notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tw-portfolio/docs/docs-example/scripts">Script</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tw-portfolio/docs/docs-example/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/use-case">Use case</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tw-portfolio/docs/docs-example/ux-writing">UX writing</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tw-portfolio/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Script</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Script</h1></header>
<blockquote>
<p><strong>Context</strong></p>
<p>The excerpt below comes from a training session that walks users through the creation of an integration flow, guiding them step by step from start to finish. It includes detailed configurations for each step, along with the corresponding logs and traces.</p>
<p>For clarity, the flow steps are summarized below. We will focus on <strong>Step 5: Data transformation with JSONata</strong>.</p>
</blockquote>
<ol>
<li>
<p><strong>Order received with a REST trigger</strong><br>
<!-- -->The flow starts with a POST request. The request includes a client identification code (<code>ClientID</code>).</p>
</li>
<li>
<p><strong>Information retrieval</strong><br>
<!-- -->The system uses the <code>ClientID</code> to fetch additional order details from an internal purchasing endpoint.</p>
</li>
<li>
<p><strong>Data transformation with JSONata</strong><br>
<!-- -->A <strong>JSONata</strong> expression restructures the data and formats it for the next step.</p>
</li>
<li>
<p><strong>Payment processing via an external endpoint</strong><br>
<!-- -->The system sends the payment request to an external endpoint and processes the response.</p>
</li>
<li>
<p><strong>Data transformation with JSONata</strong><br>
<!-- -->JSONata restructures the returned data again, preparing it for the final steps.</p>
</li>
<li>
<p><strong>Status update and confirmation</strong><br>
<!-- -->The system updates the order status in an internal endpoint. It also receives and records the payment confirmation.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-transformation-with-jsonata">Data transformation with JSONata<a href="#data-transformation-with-jsonata" class="hash-link" aria-label="Direct link to Data transformation with JSONata" title="Direct link to Data transformation with JSONata">​</a></h2>
<blockquote>
<p><strong>Structure &amp; Objectives</strong></p>
<ul>
<li>Demonstrate how to add and configure JSONata</li>
<li>Check logs and traces</li>
</ul>
</blockquote>
<p>Hi, everyone!<br>
<!-- -->In this step, we will perform another data transformation using JSONata.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="body-transformation-with-jsonata">Body transformation with JSONata<a href="#body-transformation-with-jsonata" class="hash-link" aria-label="Direct link to Body transformation with JSONata" title="Direct link to Body transformation with JSONata">​</a></h3>
<p>We will add a <strong>SetBody</strong> step to combine the result of the payment processing with the <strong>ClientID</strong>.</p>
<p>To redefine the message body, we will select the <strong>Simple</strong> language again in the expression field. It allows referencing headers, properties, the message body, and performing simple operations such as concatenation, conditions, and transformations.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Using Simple language</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">setBody</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">expression</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">simple</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token key atrule" style="color:#00a4db">expression</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;ClientID&quot;: &quot;${exchangeProperty.ClientID}&quot;, &quot;status&quot;:${body}}&#x27;</span><br></span></code></pre></div></div>
<p>Essentially, we are creating a JSON that combines:</p>
<ul>
<li>The ClientID stored in the <code>ClientID</code> property</li>
<li>Anda the status coming from the original body.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-log-step">Adding a log step<a href="#adding-a-log-step" class="hash-link" aria-label="Direct link to Adding a log step" title="Direct link to Adding a log step">​</a></h3>
<p>Next, we add a Log step to record the result of the combined information. We will used the prefix “Concatenation” to indicate that the body data has been concatenated.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Adding the log step</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">log</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">message</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CONCATENATION </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-resource">Creating a resource<a href="#creating-a-resource" class="hash-link" aria-label="Direct link to Creating a resource" title="Direct link to Creating a resource">​</a></h3>
<p>In the Source Code tab, we will create a resource with the transformation instructions, which will be called <code>statusPayload.jsonata</code>.</p>
<p>Click <strong>+</strong> next to “Resources” and add the transformation instructions:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Creating the transformation instruction in JSONata</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ClientID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">ClientID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;Status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">status.status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>This JSONata expression creates a new JSON object by extracting and organizing values from the original JSON.</p>
<p>For example, if the original JSON is:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Example</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ClientID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Paid&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The JSONata expression produces the following result:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Result</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ClientID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Paid&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>In other words, the expression simply reorganizes the data, keeping the <code>ClientID</code> and extracting the status field from a nested object.</p>
<p>We assign the name and extension <code>statusPayload.jsonata</code> and save the file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-jsonata-component">Using the JSONata component<a href="#using-the-jsonata-component" class="hash-link" aria-label="Direct link to Using the JSONata component" title="Direct link to Using the JSONata component">​</a></h3>
<p>After creating the resource with the transformation instructions, we will create a step using the JSONata component.</p>
<p>Remember that the <code>statusPayload.jsonata</code> file is referenced in the <code>classpath</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-another-log-step">Adding another log step<a href="#adding-another-log-step" class="hash-link" aria-label="Direct link to Adding another log step" title="Direct link to Adding another log step">​</a></h3>
<p>Now we add a Log step to record the body from the previous step. We will use the prefix &quot;PAYLOAD STATUS&quot;.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Adding the log step</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">log</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">message</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;PAYLOAD STATUS - ${body}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-logs-and-traces">Checking logs and traces<a href="#checking-logs-and-traces" class="hash-link" aria-label="Direct link to Checking logs and traces" title="Direct link to Checking logs and traces">​</a></h3>
<p>Finally, we will check the logs and traces for this step.</p>
<ul>
<li>In the traces, we can see information related to the product and the JSONata step.</li>
<li>In the logs, we can see:<!-- -->
<ul>
<li>The result of the concatenation between ClientID and the payment processing data.</li>
<li>Then, we can see the transformed payment data recorded with the prefix <code>PAYLOAD STATUS</code>.</li>
</ul>
</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tw-portfolio/docs/docs-example/release-notes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tw-portfolio/docs/docs-example/tutorials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-transformation-with-jsonata" class="table-of-contents__link toc-highlight">Data transformation with JSONata</a><ul><li><a href="#body-transformation-with-jsonata" class="table-of-contents__link toc-highlight">Body transformation with JSONata</a></li><li><a href="#adding-a-log-step" class="table-of-contents__link toc-highlight">Adding a log step</a></li><li><a href="#creating-a-resource" class="table-of-contents__link toc-highlight">Creating a resource</a></li><li><a href="#using-the-jsonata-component" class="table-of-contents__link toc-highlight">Using the JSONata component</a></li><li><a href="#adding-another-log-step" class="table-of-contents__link toc-highlight">Adding another log step</a></li><li><a href="#checking-logs-and-traces" class="table-of-contents__link toc-highlight">Checking logs and traces</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Natalia Leão. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>